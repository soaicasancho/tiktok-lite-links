<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Video 60 Ph√∫t</title>
    <link rel="icon" type="image/png" href="Logo.png"/>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">

    <link rel="apple-touch-icon" href="apple-touch-icon-180x180.png"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
    <meta name="apple-mobile-web-app-title" content="Video 60 Ph√∫t">

    <style>
        /* ‚úÖ Style t·ªïng th·ªÉ cho trang */
        body {
            font-family: sans-serif;
            margin: 0;
            padding-top: 70px; /* ƒë·ªÉ ch·ª´a kh√¥ng gian cho header c·ªë ƒë·ªãnh */
        }

        /* ‚úÖ Ph·∫ßn header c·ªë ƒë·ªãnh tr√™n ƒë·∫ßu trang */
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: white;
            z-index: 1000;
            padding: 15px 4px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            border-bottom: 1px solid #ccc;
        }

        /* ‚úÖ C√°c ph·∫ßn ch·ª©a nh√≥m n√∫t ·ªü tr√™n */
        .top-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 10px 4px;
        }

        /* ‚úÖ √î hi·ªÉn th·ªã t·ª´ng nh√≥m n√∫t */
        .section {
            border: 1px solid #ddd;
            padding: 2px;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        /* ‚úÖ Ti√™u ƒë·ªÅ cho m·ªói nh√≥m link, c√≥ th·ªÉ b·∫•m ƒë·ªÉ ·∫©n/hi·ªán */
        .section-title {
            font-weight: bold;
            margin-bottom: 1px;
            text-align: center;
            cursor: pointer;
            padding: 5px;
            background-color: #eee;
            border-radius: 6px;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .section-title:hover {
            background-color: #ddd;
        }

        /* ‚úÖ N√∫t b·∫•m link */
        .link-button {
            width: 100%;
            text-align: center;
            border: none;
            border-radius: 8px;
            background-color: #1da1f2;
            color: white;
            font-size: 14px;
            padding: 12px 2px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 10px;
            /* Th√™m c√°c thu·ªôc t√≠nh t·ª´ kh·ªëi b·ªã tr√πng l·∫∑p ƒë·ªÉ ƒë·∫£m b·∫£o giao di·ªán */
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .link-button:hover {
            box-shadow: 0 0 12px rgba(29, 161, 242, 0.6), 0 0 24px rgba(29, 161, 242, 0.4);
            transform: scale(1.01);
        }

        .link-button:active {
            background-color: #0d8ddb;
            transform: scale(0.96);
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .clicked {
            background-color: gray !important;
            color: #eee;
            cursor: default;
        }

        .link-button:disabled {
            cursor: not-allowed;
        }

        /* ‚úÖ Khu v·ª±c ch·ª©a n√∫t b·∫•m, c√≥ th·ªÉ b·ªã ·∫©n/hi·ªán */
        .link-container {
            display: block;
            transition: all 0.3s ease;
        }

        .collapsed {
            display: none;
        }

        /* ‚úÖ Bi·ªÉu t∆∞·ª£ng +/‚àí */
        .toggle-icon {
            font-size: 14px;
        }

        /* ‚úÖ Giao di·ªán c·ªôt Link C√≥c chia ƒë·ªÅu */
        .linkCoc-wrapper {
            display: flex;
            gap: 4px;
            margin-top: 10px;
            align-items: stretch;
        }

        /* ‚úÖ M·ªói c·ªôt c√≥ khung + c√πng chi·ªÅu cao */
        .coc-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: #f9f9f9;
            padding: 2px 2px;
            border-radius: 8px;
            border: 1px solid #ddd;
            box-sizing: border-box;
        }

        /* ‚úÖ C√°c c·ªôt link TikTok d∆∞·ªõi c√πng */
        .bottom-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 4px;
            padding: 12px 4px;
        }

        /* ‚úÖ Giao di·ªán modal nh·∫≠p m·∫≠t kh·∫©u */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            overflow: auto;
        }

        .modal {
            background: white;
            padding: 20px 20px;
            border-radius: 10px;
            width: 95%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            font-family: Arial, sans-serif;
        }

        .modal input[type="password"] {
            width: 100%;
            padding: 8px 4px;
            font-size: 16px;
            margin-top: 8px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
        }

        .modal .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .modal .buttons button {
            padding: 8px 24px;
            font-size: 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .modal #modal-ok {
            background-color: #1da1f2;
            color: white;
        }

        .modal #modal-ok:disabled {
            background-color: #a5d1fb;
            cursor: not-allowed;
        }

        .modal #modal-cancel {
            background-color: #ddd;
            color: #333;
        }

        .modal #modal-cancel:hover {
            background-color: #bbb;
        }

        .modal #modal-ok:hover:enabled {
            background-color: #0d8ddb;
        }

        .modal .error {
            color: red;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }

        .contact-info {
            width: 90%; /* Chi·∫øm 90% chi·ªÅu r·ªông */
            margin: 0 auto; /* T·ª± ƒë·ªông cƒÉn gi·ªØa theo chi·ªÅu ngang */
            text-align: center;
            font-size: 14px;
            font-style: italic;
            margin-top: 0px;
            margin-bottom: 10px;
            color: #444;
        }

        /* ‚úÖ Giao di·ªán modal th√¥ng b√°o t√≠nh nƒÉng m·ªõi*/
        .feature-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            overflow: auto;
        }

        .feature-modal {
            background: white;
            padding: 20px 20px;
            border-radius: 25px;
            width: 95%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            font-family: Arial, sans-serif;
        }

        .feature-modal .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .feature-modal .buttons button {
            background-color: #80BFFF;
            padding: 8px 24px;
            font-size: 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        /* ‚úÖ Hi·ªáu ·ª©ng nh·∫•p nh√°y cho ƒëo·∫°n th√¥ng b√°o */
        .blinking-text {
            animation: pulseBlinkSmooth 2s ease-in-out infinite;
            display: inline-block;
        }

        @keyframes pulseBlinkSmooth {
            0% {
                color: #444;
                transform: scale(1);
            }
            25% {
                color: red;
                transform: scale(1.05);
            }
            50% {
                color: #444;
                transform: scale(1);
            }
            75% {
                color: red;
                transform: scale(1.05);
            }
            100% {
                color: #444;
                transform: scale(1);
            }
        }

        #floatingMenuButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px; /* t√πy k√≠ch th∆∞·ªõc n√∫t menu mong mu·ªën */
            height: 60px; /* t√πy k√≠ch th∆∞·ªõc n√∫t menu mong mu·ªën */
            background-color: white;
            border-radius: 50%;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #floatingMenuOptions {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            padding: 10px;
            z-index: 998;
        }

        #floatingMenuOptions button {
            display: block;
            width: 160px;
            margin: 5px 0;
            padding: 8px 4px;
            border: none;
            background: #f0f0f0;
            border-radius: 6px;
            cursor: pointer;
            text-align: left;
        }

        #floatingMenuOptions hr {
            margin: 8px 10;
            border: none;
            border-top: 1px solid #ccc;
        }

        .hidden {
            display: none;
        }

        #floatingMenuButton img {
            width: 95%;
            height: 95%;
            object-fit: contain;
        }

        /* ‚úÖ Logo quay tr√≤n */
        @keyframes spin-logo {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        #floatingMenuButton img {
            animation: spin-logo 10s linear infinite;
        }

        body.dark-mode {
            background-color: #121212;
            color: #f1f1f1;
        }

        body.dark-mode .section {
            background-color: #1e1e1e;
            border-color: #333;
        }

        body.dark-mode .section-title {
            background-color: #333;
            color: #f1f1f1;
        }

        body.dark-mode .link-button {
            background-color: #333;
            color: #fff;
        }

        body.dark-mode .link-button:hover {
            box-shadow: 0 0 12px rgba(255, 255, 255, 0.4);
        }

        body.dark-mode .fixed-header {
            background-color: #1a1a1a;
            color: #f1f1f1;
            border-bottom: 1px solid #333;
        }

        body.dark-mode .modal {
            background-color: #1e1e1e;
            color: #fff;
        }

        body.dark-mode .feature-modal {
            background-color: #1e1e1e;
            color: #fff;
        }

        body.dark-mode .contact-info {
            color: #ccc;
        }

        body.no-scroll {
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        /* Nh·∫•p nh√°y nh·∫π cho ch·ªØ trong n√∫t */
        .blink-text {
            animation: strongBlink 1.2s ease-in-out infinite;
            display: inline-block;
            color: #ff0000; /* M√†u ch·ªØ n·ªïi b·∫≠t h∆°n */
            font-weight: bold;
        }

        @keyframes strongBlink {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.5); /* Ph√≥ng to nh·∫π */
            }
        }

    </style>
</head>
<body>

<div id="languageSelectionModal" class="modal-overlay" style="display: none; z-index: 3000;">
    <div class="modal">
        <h3 style="margin-top: 0;">Vui l√≤ng ch·ªçn ng√¥n ng·ªØ</h3>
        <p>Please select a language</p>
        <p>Ë®ÄË™û„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
        <div class="buttons" style="flex-direction: column; gap: 10px; margin-top: 15px;">
            <button onclick="selectInitialLanguage('vi')" style="width: 100%; background-color: #1DA1F2; color: white;">Ti·∫øng Vi·ªát</button>
            <button onclick="selectInitialLanguage('en')" style="width: 100%; background-color: #1DA1F2; color: white;">English</button>
            <button onclick="selectInitialLanguage('ja')" style="width: 100%; background-color: #1DA1F2; color: white;">Êó•Êú¨Ë™û</button>
        </div>
    </div>
</div>

<div class="fixed-header" id="title"></div>

<div class="contact-info">
    <div class="blinking-text">
        <div id="info1"></div>
        <div id="info2"></div>
        <div id="info3"></div>
        <div id="info4"></div>
    </div>
</div>

<div class="top-section">
    <div class="section">
        <div class="section-title" onclick="toggleSection('linkCoc')">
            <span class="toggle-icon" id="icon-linkCoc">+</span> <span id="group-coc"></span>
        </div>

        <div id="linkCoc" class="link-container collapsed">
            <div class="linkCoc-wrapper">
                <div class="section coc-column" id="linkCoc-regular">
                    <div class="section-title" id="coc-tiktok-regular">TikTok Th∆∞·ªùng</div>
                </div>
                <div class="section coc-column" id="linkCoc-lite">
                    <div class="section-title" id="coc-tiktok-lite">TikTok Lite</div>
                </div>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkTuyet')">
            <span class="toggle-icon" id="icon-linkTuyet">+</span> <span id="group-tuyet"></span>
        </div>
        <div id="linkTuyet" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkTao')">
            <span class="toggle-icon" id="icon-linkTao">+</span> <span id="group-tao"></span>
        </div>
        <div id="linkTao" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkSumo')">
            <span class="toggle-icon" id="icon-linkSumo">+</span> <span id="group-sumo"></span>
        </div>
        <div id="linkSumo" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkKhoBau')">
            <span class="toggle-icon" id="icon-linkKhoBau">+</span> <span id="group-khobau">M·ªü Kho B√°u üíé</span>
        </div>
        <div id="linkKhoBau" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkCauCa')">
            <span class="toggle-icon" id="icon-linkCauCa">+</span> <span id="group-cauca">C√¢u C√° üé£</span>
        </div>
        <div id="linkCauCa" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('link500Like')">
            <span class="toggle-icon" id="icon-link500Like">+</span> <span id="group-500like">üß°  C√°  üß°</span>
        </div>
        <div id="link500Like" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkQRcode')">
            <span class="toggle-icon" id="icon-linkQRcode">+</span> <span id="group-QR">QR Code</span>
        </div>
        <div id="linkQRcode" class="link-container collapsed"></div>
    </div>

    <div class="section">
        <div class="section-title" onclick="toggleSection('linkGioiThieu')">
            <span class="toggle-icon" id="icon-linkGioiThieu">+</span> <span id="group-gt"></span>
        </div>
        <div id="linkGioiThieu" class="link-container collapsed"></div>
    </div>
</div>

<div class="bottom-section">
    <div class="section" id="regularColumn">
        <div class="section-title" id="tiktok-normal">TikTok Th∆∞·ªùng</div>
    </div>
    <div class="section" id="liteColumn">
        <div class="section-title" id="tiktok-lite">TikTok Lite</div>
    </div>
</div>

<div id="featureModal" class="feature-modal-overlay" style="display: none;">
    <div class="feature-modal" style="text-align: center;">
        <h3><strong id="modal-title" style="font-size: 18px;">üîî Th√¥ng b√°o</strong></h3>

        <p id="modal-line1" style="text-align: left; font-weight: bold; font-size: 16px;">
            ‚û§ Thay ƒë·ªïi t√™n mi·ªÅn:
        </p>
        <p id="modal-line2" style="text-align: left; font-style: italic; font-size: 14px;">
            ‚óè T·ª´ ng√†y 26/05/2025 t√™n truy c·∫≠p website s·∫Ω ƒë·ªïi th√†nh:
        </p>
        <p id="modal-line3" style="text-align: left; font-style: italic; font-size: 14px;">
            üëâ video60phut.com (Link m·ªõi)
        </p>
        <p id="modal-line4" style="text-align: left; font-style: italic; font-size: 14px;">
            ‚óè Website c≈© ƒë√£ d·ª´ng ho·∫°t ƒë·ªông.
        </p>
        <p id="modal-line5" style="text-align: left; font-style: italic; font-size: 14px;">
            üëâ ...........
        </p>

        <p id="modal-line6" style="text-align: left; font-weight: bold; font-size: 16px;">
            ‚û§ T√≠nh nƒÉng ch·ªëng b·ªã ph√°t hi·ªán Phone Fram:
        </p>
        <p id="modal-line7" style="text-align: left; font-style: italic; font-size: 14px;">
            ‚óè Sau khi click xem video b·∫•t k·ª≥, video ƒë√≥ s·∫Ω b·ªã v√¥ hi·ªáu h√≥a m·ªôt th·ªùi gian nh·∫•t ƒë·ªãnh
        </p>
        <p id="modal-line8" style="text-align: left; font-style: italic; font-size: 14px;">
            ‚óè H√£y ch·ªçn video kh√°c ƒë·ªÉ xem
        </p>

        <p id="modal-line9" style="text-align: left; font-weight: bold; font-size: 16px;">
            ‚û§ L∆∞u √Ω:
        </p>
        <p id="modal-line10" style="text-align: left; font-style: italic; font-size: 14px;">
            ‚óè T·∫•t c·∫£ video c√≥ n·ªôi dung gi·ªëng nhau
        </p>
        <p id="modal-line11" style="text-align: left; font-style: italic; font-size: 14px;">
            ‚óè √Çm thanh Video ƒë√£ ƒë∆∞·ª£c lo·∫°i b·ªè
        </p>

        <p id="modal-line12" style="text-align: right; font-style: italic; font-size: 12px;">
            Admin ƒêƒÉng Gi√°p!
        </p>

        <div class="buttons">
            <button id="featureModal-ok">ƒê√£ hi·ªÉu</button>
        </div>
    </div>
</div>


<div id="floatingMenuButton">
    <img src="Logo.png" alt="Menu" id="menuIcon"/>
</div>

<div id="floatingMenuOptions" class="hidden">
    <button id="lang-vi" onclick="changeLanguage('vi')">Vi·ªát Nam</button>
    <button id="lang-en" onclick="changeLanguage('en')">English</button>
    <button id="lang-ja" onclick="changeLanguage('ja')">Êó•Êú¨Ë™û</button>
    <hr>
    <button onclick="toggleDarkMode()" id="darkModeBtn">üåô Ch·∫ø ƒë·ªô T·ªëi</button>
    <button id="resetBtn">üîÑ Reset ƒê·∫øm Ng∆∞·ª£c</button>
    <button onclick="showContactInfo()" id="contactInfoBtn">üìû Th√¥ng Tin Li√™n H·ªá</button>
</div>

<div id="contactModal" class="modal-overlay" style="display: none;">
    <div class="modal">
        <h3 id="contactModalTitle">üìû Th√¥ng Tin Li√™n H·ªá</h3>
        <p id="contactLine1">Zalo: 0979-518-322</p>
        <p id="contactLine2">Email: chichchoehoa001@gmail.com</p>
        <div class="buttons">
            <button onclick="closeContactModal()" id="closeContactBtn">ƒê√≥ng</button>
        </div>
    </div>
</div>

<div id="iosInstallModal" class="modal-overlay" style="display: none;">
    <div class="modal">
        <h3 id="ios-modal-title">H∆∞·ªõng D·∫´n T·∫°o Ph√≠m T·∫Øt</h3>
        <p id="ios-line1" style="text-align: center;">(ƒê·ªÉ tƒÉng m·ª©c ƒë·ªô t·ªëi ∆∞u khi s·ª≠ d·ª•ng, ch√∫ng t√¥i khuy√™n b·∫°n n√™n l√†m theo ch·ªâ d·∫´n b√™n d∆∞·ªõi)</p>
        <p id="ios-line2" style="text-align: left;">1. Nh·∫•n bi·ªÉu t∆∞·ª£ng <strong>Chia s·∫ª</strong> (h√¨nh vu√¥ng c√≥ m≈©i t√™n ƒëi l√™n) ·ªü d∆∞·ªõi c√πng Safari.</p>
        <p id="ios-line3" style="text-align: left;">2. Ch·ªçn <strong>"Th√™m v√†o M√†n h√¨nh ch√≠nh"</strong>.</p>
        <p id="ios-line4" style="text-align: left;">3. Nh·∫•n <strong>"Th√™m"</strong> ƒë·ªÉ ho√†n t·∫•t.</p>

        <div class="buttons" style="margin-top: 10px;">
            <button id="ios-ok-btn">ƒê√£ hi·ªÉu</button>
        </div>
    </div>
</div>

<span id="copied-success-text" style="display: none;">ƒê√£ sao ch√©p li√™n k·∫øt</span>

<script>
    // ‚úÖ Ch·ªânh s·ªë ng√†y b·ªã kh√≥a sau 5 l·∫ßn nh·∫≠p pass sai
    const lockDays = 120; // üëà S·ªë ng√†y b·ªã kh√≥a sau 5 l·∫ßn sai

    // ‚úÖ Ch·ªânh s·ªë ng√†y b·ªã kh√≥a sau khi b·∫•m xem video
    const unlockDays = 15; // üëà S·ªë ng√†y ƒë·∫øm ng∆∞·ª£c khi xem video

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i Link C√≥c üê∏
    const enableCoc = true;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i Link Tuy·∫øt ‚ùÑ
    const enableTuyet = true;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i Link T√°o üçé
    const enableTao = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i Link Sumo ü§º
    const enableSumo = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i M·ªü Kho B√°u üíé
    const enableKhoBau = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i C√¢u C√° üé£
    const enableCauCa = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i üß° 500 Like üß°
    const enable500Like = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i QR Code
    const enableQRcode = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i Link Gi·ªõi Thi·ªáu üì¢
    const enableGioiThieu = false;

    // ‚úÖ ƒê·ªïi th√†nh true/false ƒë·ªÉ hi·ªán/·∫©n l·∫°i h∆∞·ªõng d·∫´n c√†i ph√≠m t·∫Øt
    const enable_ios_modal = true;

    // ‚úÖ D·ªØ li·ªáu link c·ª• th·ªÉ. protected: true kh√≥a pass, highlight: true nh·∫•p nh√°y ch·ªØ trong n√∫t, hidden: true ·∫©n n√∫t.
    const linkCocLite = [
        {url: "https://lite.tiktok.com/t/ZSSKCFG48/", label: "16PRM", hidden: true},
        {url: "https://lite.tiktok.com/t/ZSA8naWsk/", label: "GL 5"},
        {url: "https://lite.tiktok.com/t/ZSh33Yjob/", label: "GL 6", hidden: true},
        {url: "https://lite.tiktok.com/t/ZShcngr3k/", label: "GL 7", hidden: true},
        {url: "https://lite.tiktok.com/t/ZSHGhf62C6TV6-fmAjv/", label: "Sony 6"}
    ];

    const linkCocRegular = [
        {url: "https://vt.tiktok.com/ZSkSN7puy/", label: "16PRM", hidden: true},
        {url: "https://vt.tiktok.com/ZSSSksXud/", label: "XS", hidden: true},
        {url: "https://vt.tiktok.com/ZSkkegXK9/", label: "MRT 005", hidden: true},
        {url: "https://vt.tiktok.com/ZSkSUToee/", label: "Sony 2", hidden: true}
    ];

    const linkTuyet = [
        {url: "https://lite.tiktok.com/t/ZSSWfoNBD/", label: "B·∫•m ·ªü ƒë√¢y GL6", highlight: true},
        {url: "", label: "üîí", protected: true},
        {url: "https://lite.tiktok.com/t/ZSSWP6hgf/", label: "üîí GL7"},
        {url: "", label: "üîí", protected: true, hidden: true},
        {url: "", label: "üîí", hidden: true}
    ];

    const linkTao = [
        {url: "https://vt.tiktok.com/ZSSeJRhrB/", label: "üçé T√°o üçé", highlight: true}
    ];

    const linkSumo = [
        {url: "https://lite.tiktok.com/t/ZShKhA1Lb/", label: "GL 8", protected: true}
    ];

    const linkKhoBau = [
        {url: "375238789", label: "Yama Bena", copyOnly: true}
    ];

    const linkCauCa = [
        {url: "https://lite.tiktok.com/t/ZSkpYrwDr/", label: "GL6"}
    ];

    const link500Like = [
        {url: "https://lite.tiktok.com/t/ZSAJrJv9g/", label: "C74"},
        {url: "https://lite.tiktok.com/t/ZSAJhAYua/", label: "C71"},
        {url: "https://lite.tiktok.com/t/ZSHGeaFExhTKD-bWCqq/", label: "C38"},
        {url: "https://lite.tiktok.com/t/ZSAJSxHsA/", label: "C46"},
        {url: "https://lite.tiktok.com/t/ZSAJSx5rD/", label: "C36"},
        {url: "https://lite.tiktok.com/t/ZSAJBgTbs/", label: "C76"},
        {url: "https://lite.tiktok.com/t/ZSAJB9DRN/", label: "C75"}
    ];

    const linkQRcode = [
        {url: "https://lite.tiktok.com/t/ZSBBvHmmd/", label: "GL7"}
    ];

    const linkGioiThieu = [
        {url: "https://vt.tiktok.com/ZSh4FAKfk/", label: "MRT 005"}
    ];

    const regularLinks = [
        // üîó C·ªòT 2: Link TikTok Th∆∞·ªùng
        "https://www.tiktok.com/t/ZShX3eRCj/",
        "https://www.tiktok.com/t/ZShXcKW3P/",
        "https://www.tiktok.com/t/ZShXc3L2o/",
        "https://www.tiktok.com/t/ZShXcExWh/",
        "https://www.tiktok.com/t/ZShX3d43H/",
        "https://www.tiktok.com/t/ZShX3Foyh/",
        "https://www.tiktok.com/t/ZShX3LwP9/",
        "https://www.tiktok.com/t/ZShX369Gc/",
        "https://www.tiktok.com/t/ZShX3dsXg/",
        "https://www.tiktok.com/t/ZShX3Y8xT/",
        "https://www.tiktok.com/t/ZShX3FC6d/",
        "https://www.tiktok.com/t/ZShX3dBSB/",
        "https://www.tiktok.com/t/ZShX3JS5A/",
        "https://www.tiktok.com/t/ZShXcchx5/",
        "https://www.tiktok.com/t/ZShXc73Q4/",
        "https://www.tiktok.com/t/ZShX3LfhJ/",
        "https://www.tiktok.com/t/ZShX3rboA/",
        "https://www.tiktok.com/t/ZShX32oh2/",
        "https://www.tiktok.com/t/ZShX3r8nT/",
        "https://www.tiktok.com/t/ZShX31BGF/",
        "https://www.tiktok.com/t/ZShX3Joh4/",
        "https://www.tiktok.com/t/ZShX3jMpj/",
        "https://www.tiktok.com/t/ZShX3LBP9/",
        "https://www.tiktok.com/t/ZShX3jMwr/",
        "https://www.tiktok.com/t/ZShX3mVat/",
        "https://www.tiktok.com/t/ZShX3J2w4/",
        "https://www.tiktok.com/t/ZShX3xF6M/",
        "https://www.tiktok.com/t/ZShX3NSco/",
        "https://www.tiktok.com/t/ZShX3Sokr/",
        "https://www.tiktok.com/t/ZShXcTehY/",
        "https://www.tiktok.com/t/ZShX3Vgfy/",
        "https://www.tiktok.com/t/ZShXcwNQo/",
        "https://www.tiktok.com/t/ZShX3u1VL/",
        "https://www.tiktok.com/t/ZShX3D8AK/",
        "https://www.tiktok.com/t/ZShX3P3pW/",
        "https://www.tiktok.com/t/ZShX3Bvye/",
        "https://www.tiktok.com/t/ZShX39aop/",
        "https://www.tiktok.com/t/ZShX3SarT/",
        "https://www.tiktok.com/t/ZShX35XEe/",
        "https://www.tiktok.com/t/ZShX3uuY8/",
        "https://www.tiktok.com/t/ZShX3P15U/",
        "https://www.tiktok.com/t/ZShX3pXUY/",
        "https://www.tiktok.com/t/ZShX3sdvH/",
        "https://www.tiktok.com/t/ZShX3H5aa/",
        "https://www.tiktok.com/t/ZShX3HAWx/",
        "https://www.tiktok.com/t/ZShX3qXTB/",
        "https://www.tiktok.com/t/ZShX3qduV/",
        "https://www.tiktok.com/t/ZShX3Xmj2/",
        "https://www.tiktok.com/t/ZShX3uerD/",
        "https://www.tiktok.com/t/ZShX3CRbr/",
        "https://www.tiktok.com/t/ZShX3B9Pm/",
        "https://www.tiktok.com/t/ZShX3HY5H/",
        "https://www.tiktok.com/t/ZShX3gh7E/",
        "https://www.tiktok.com/t/ZShX391vc/",
        "https://www.tiktok.com/t/ZShX3PK5E/",
        "https://www.tiktok.com/t/ZShX3xCq2/",
        "https://www.tiktok.com/t/ZShX3aLMV/",
        "https://www.tiktok.com/t/ZShX3fMtu/",
        "https://www.tiktok.com/t/ZShX3Avve/",
        "https://www.tiktok.com/t/ZShX3V7RM/",
        "https://www.tiktok.com/t/ZShX3HuRn/",
        "https://www.tiktok.com/t/ZShX3mVTD/"
    ];

    const liteLinks = [
        // üîó C·ªòT 3: Link TikTok Lite
        "https://lite.tiktok.com/t/ZShX3eRCj/",
        "https://lite.tiktok.com/t/ZShXcKW3P/",
        "https://lite.tiktok.com/t/ZShXc3L2o/",
        "https://lite.tiktok.com/t/ZShXcExWh/",
        "https://lite.tiktok.com/t/ZShX3d43H/",
        "https://lite.tiktok.com/t/ZShX3Foyh/",
        "https://lite.tiktok.com/t/ZShX3LwP9/",
        "https://lite.tiktok.com/t/ZShX369Gc/",
        "https://lite.tiktok.com/t/ZShX3dsXg/",
        "https://lite.tiktok.com/t/ZShX3Y8xT/",
        "https://lite.tiktok.com/t/ZShX3FC6d/",
        "https://lite.tiktok.com/t/ZShX3dBSB/",
        "https://lite.tiktok.com/t/ZShX3JS5A/",
        "https://lite.tiktok.com/t/ZShXcchx5/",
        "https://lite.tiktok.com/t/ZShXc73Q4/",
        "https://lite.tiktok.com/t/ZShX3LfhJ/",
        "https://lite.tiktok.com/t/ZShX3rboA/",
        "https://lite.tiktok.com/t/ZShX32oh2/",
        "https://lite.tiktok.com/t/ZShX3r8nT/",
        "https://lite.tiktok.com/t/ZShX31BGF/",
        "https://lite.tiktok.com/t/ZShX3Joh4/",
        "https://lite.tiktok.com/t/ZShX3jMpj/",
        "https://lite.tiktok.com/t/ZShX3LBP9/",
        "https://lite.tiktok.com/t/ZShX3jMwr/",
        "https://lite.tiktok.com/t/ZShX3mVat/",
        "https://lite.tiktok.com/t/ZShX3J2w4/",
        "https://lite.tiktok.com/t/ZShX3xF6M/",
        "https://lite.tiktok.com/t/ZShX3NSco/",
        "https://lite.tiktok.com/t/ZShX3Sokr/",
        "https://lite.tiktok.com/t/ZShXcTehY/",
        "https://lite.tiktok.com/t/ZShX3Vgfy/",
        "https://lite.tiktok.com/t/ZShXcwNQo/",
        "https://lite.tiktok.com/t/ZShX3u1VL/",
        "https://lite.tiktok.com/t/ZShX3D8AK/",
        "https://lite.tiktok.com/t/ZShX3P3pW/",
        "https://lite.tiktok.com/t/ZShX3Bvye/",
        "https://lite.tiktok.com/t/ZShX39aop/",
        "https://lite.tiktok.com/t/ZShX3SarT/",
        "https://lite.tiktok.com/t/ZShX35XEe/",
        "https://lite.tiktok.com/t/ZShX3uuY8/",
        "https://lite.tiktok.com/t/ZShX3P15U/",
        "https://lite.tiktok.com/t/ZShX3pXUY/",
        "https://lite.tiktok.com/t/ZShX3sdvH/",
        "https://lite.tiktok.com/t/ZShX3H5aa/",
        "https://lite.tiktok.com/t/ZShX3HAWx/",
        "https://lite.tiktok.com/t/ZShX3qXTB/",
        "https://lite.tiktok.com/t/ZShX3qduV/",
        "https://lite.tiktok.com/t/ZShX3Xmj2/",
        "https://lite.tiktok.com/t/ZShX3uerD/",
        "https://lite.tiktok.com/t/ZShX3CRbr/",
        "https://lite.tiktok.com/t/ZShX3B9Pm/",
        "https://lite.tiktok.com/t/ZShX3HY5H/",
        "https://lite.tiktok.com/t/ZShX3gh7E/",
        "https://lite.tiktok.com/t/ZShX391vc/",
        "https://lite.tiktok.com/t/ZShX3PK5E/",
        "https://lite.tiktok.com/t/ZShX3xCq2/",
        "https://lite.tiktok.com/t/ZShX3aLMV/",
        "https://lite.tiktok.com/t/ZShX3fMtu/",
        "https://lite.tiktok.com/t/ZShX3Avve/",
        "https://lite.tiktok.com/t/ZShX3V7RM/",
        "https://lite.tiktok.com/t/ZShX3HuRn/",
        "https://lite.tiktok.com/t/ZShX3mVTD/"
    ];

    // ‚úÖ D·ªØ li·ªáu ƒë√£ l∆∞u l·ªãch s·ª≠ click trong localStorage
    const clickedLinks = JSON.parse(localStorage.getItem('clickedLinks') || '{}');

    // ‚úÖ T·∫°o n√∫t link cho m·ªói m·ª•c
    function createButton(link, label, type, allowMultiple = false, isProtected = false, highlight = false) {
        const btn = document.createElement('button');
        btn.className = 'link-button';
        const realUrl = typeof link === 'string' ? link : link.url;
        const key = realUrl + '_' + type;
        const clickTimestamp = clickedLinks[key];

        // Ki·ªÉm tra n·∫øu ƒë√£ b·ªã kh√≥a do nh·∫≠p sai m·∫≠t kh·∫©u
        const lockStartTime = parseInt(localStorage.getItem('lockStartTime_' + key));
        if (!isNaN(lockStartTime)) {
            const lockDuration = lockDays * 24 * 60 * 60 * 1000; // ms
            const newLockUntil = lockStartTime + lockDuration;

            if (Date.now() < newLockUntil) {
                btn.disabled = true;
                btn.classList.add('clicked');

                const updateCountdown = () => {
                    const remaining = newLockUntil - Date.now();
                    if (remaining <= 0) {
                        clearInterval(interval);
                        localStorage.removeItem('lockStartTime_' + key);
                        localStorage.removeItem('wrongAttempts_' + key);
                        btn.textContent = `${label} (${clickCount} l∆∞·ª£t)`;
                        btn.disabled = false;
                        btn.classList.remove('clicked');
                    } else {
                        const days = Math.floor(remaining / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((remaining % (1000 * 60)) / 1000);
                        btn.textContent = `üîì ${days}Êó•${hours}ÊôÇ${minutes.toString().padStart(2, '0')}ÂàÜ${seconds.toString().padStart(2, '0')}Áßí`;
                    }
                };

                updateCountdown(); // G·ªçi l·∫ßn ƒë·∫ßu
                const interval = setInterval(updateCountdown, 1000); // C·∫≠p nh·∫≠t m·ªói gi√¢y

                return btn;
            } else {
                // ƒê√£ h·∫øt th·ªùi gian kh√≥a ‚Üí x√≥a key
                localStorage.removeItem('lockStartTime_' + key);
                localStorage.removeItem('wrongAttempts_' + key);
            }
        }

        // Ch·ªânh th·ªùi gian ƒë·∫øm ng∆∞·ª£c khi xem video
        const now = Date.now();
        const clickCount = clickedLinks[key + '_count'] || 0;

        if (!allowMultiple && clickTimestamp) {
            const clickedDate = new Date(clickTimestamp);
            const unlockDate = new Date(clickedDate);
            unlockDate.setDate(clickedDate.getDate() + unlockDays);
            unlockDate.setHours(0, 0, 0, 0);

            const timeLeft = unlockDate - now;

            if (timeLeft > 0) {
                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                btn.textContent = `‚è≥ ${days}Êó•${hours}ÊôÇ${minutes.toString().padStart(2, '0')}ÂàÜ${seconds.toString().padStart(2, '0')}Áßí`;
                btn.classList.add('clicked');
                btn.disabled = true;

                // C·∫≠p nh·∫≠t ƒë·∫øm ng∆∞·ª£c theo th·ªùi gian th·ª±c cho n√∫t b·∫•m Video
                const interval = setInterval(() => {
                    const nowUpdate = Date.now();
                    const timeLeftUpdate = unlockDate - nowUpdate;

                    if (timeLeftUpdate <= 0) {
                        clearInterval(interval);
                        btn.textContent = `${label} (${clickCount} l∆∞·ª£t)`;
                        btn.classList.remove('clicked');
                        btn.disabled = false;
                    } else {
                        const d = Math.floor(timeLeftUpdate / (1000 * 60 * 60 * 24));
                        const h = Math.floor((timeLeftUpdate % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const m = Math.floor((timeLeftUpdate % (1000 * 60 * 60)) / (1000 * 60));
                        const s = Math.floor((timeLeftUpdate % (1000 * 60)) / 1000);
                        btn.textContent = `‚è≥ ${d}Êó•${h}ÊôÇ${m.toString().padStart(2, '0')}ÂàÜ${s.toString().padStart(2, '0')}Áßí`;
                    }
                }, 1000);
            } else {
                btn.textContent = `${label} (${clickCount} l∆∞·ª£t)`;
            }
        } else {
            if (highlight) {
                btn.innerHTML = `<span class="blink-text">${label} ${clickCount > 0 ? `(${clickCount} l∆∞·ª£t)` : ''}</span>`;
            } else {
                btn.textContent = `${label} ${clickCount > 0 ? `(${clickCount} l∆∞·ª£t)` : ''}`;
            }
        }

        btn.onclick = () => {
            const realUrl = typeof link === 'string' ? link : link.url;

            if (link.copyOnly) {
                navigator.clipboard.writeText(realUrl)
                    .then(() => {
                        const oldText = btn.textContent;
                        btn.textContent = document.getElementById('copied-success-text').textContent;
                        btn.disabled = true;
                        setTimeout(() => {
                            btn.textContent = oldText;
                            btn.disabled = false;
                        }, 2000);
                    })
                    .catch(() => {
                        alert("‚ùå Sao ch√©p th·∫•t b·∫°i. D√πng tr√¨nh duy·ªát kh√°c v√† th·ª≠ l·∫°i");
                    });
            } else if (isProtected) {
                showPasswordPrompt({
                    title: "B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p t√≠nh nƒÉng n√†y<br>Nh·∫≠p M·∫≠t Kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c:",
                    link: link,
                    key: key,
                    label: label,
                    btn: btn,
                    onSuccess: () => openLinkAndSave(link, label, key, allowMultiple, clickCount, btn)
                });
            } else {
                openLinkAndSave(link, label, key, allowMultiple, clickCount, btn);
            }
        };
        return btn;
    }

    // ‚úÖ M·ªü link v√† l∆∞u l·ªãch s·ª≠ click
    function openLinkAndSave(linkObj, label, _key, allowMultiple, clickCount, btn) {
        const realUrl = typeof linkObj === 'string' ? linkObj : linkObj.url;
        const type = _key.split('_')[1];
        const key = realUrl + '_' + type;

        const isStandalone =
            window.matchMedia('(display-mode: standalone)').matches ||
            window.navigator.standalone === true;

        if (isStandalone) {
            window.location.href = realUrl;
        } else {
            window.open(realUrl, '_blank');
        }

        const now = Date.now();
        clickedLinks[key] = now;
        clickedLinks[key + '_count'] = (clickedLinks[key + '_count'] || 0) + 1;
        localStorage.setItem('clickedLinks', JSON.stringify(clickedLinks));

        localStorage.removeItem('wrongAttempts_' + key);
        localStorage.removeItem('lockStartTime_' + key);

        // LOGIC M·ªöI: D·ª±a v√†o 'type', quy·∫øt ƒë·ªãnh v·∫Ω l·∫°i c·∫£ danh s√°ch hay ch·ªâ thay th·∫ø 1 n√∫t
        if (type === 'regular') {
            // N·∫øu l√† link trong c·ªôt TikTok Th∆∞·ªùng, v·∫Ω l·∫°i to√†n b·ªô c·ªôt ƒë√≥
            renderLinks('regularColumn', regularLinks, 'regular', 'Video');
        } else if (type === 'lite') {
            // N·∫øu l√† link trong c·ªôt TikTok Lite, v·∫Ω l·∫°i to√†n b·ªô c·ªôt ƒë√≥
            renderLinks('liteColumn', liteLinks, 'lite', 'Video');
        } else {
            // N·∫øu l√† c√°c lo·∫°i link kh√°c, gi·ªØ nguy√™n h√†nh vi c≈© l√† ch·ªâ thay th·∫ø n√∫t v·ª´a b·∫•m
            const newBtn = createButton(
                linkObj, label, type, allowMultiple,
                linkObj.protected || false,
                linkObj.highlight || false
            );
            btn.replaceWith(newBtn);
        }
    }

    // ‚úÖ [C·∫¨P NH·∫¨T] H√†m hi·ªÉn th·ªã modal m·∫≠t kh·∫©u, gi·ªù c√≥ th·ªÉ kh√≥a c·∫£ n√∫t Reset
    function showPasswordPrompt(options) {
        const {title, onSuccess, link, key, label, btn} = options;

        const overlay = document.createElement('div');
        overlay.className = 'modal-overlay';
        overlay.innerHTML = `
          <div class="modal">
            <div id="modal-text">${title}</div>
            <input type="password" id="modal-password" autocomplete="new-password" />
            <div class="buttons">
              <button id="modal-cancel">H·ªßy</button>
              <button id="modal-ok" disabled>OK</button>
            </div>
            <div class="error" id="modal-error">M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng. Vui l√≤ng th·ª≠ l·∫°i.</div>
          </div>
        `;
        document.body.appendChild(overlay);
        document.body.classList.add('no-scroll');
        applyLanguage(currentLanguage);

        const input = overlay.querySelector('#modal-password');
        const btnOk = overlay.querySelector('#modal-ok');
        const btnCancel = overlay.querySelector('#modal-cancel');
        const errorMsg = overlay.querySelector('#modal-error');

        const closeModal = () => {
            document.body.removeChild(overlay);
            document.body.classList.remove('no-scroll');
        };

        input.addEventListener('input', () => {
            errorMsg.style.display = 'none';
            btnOk.disabled = input.value.trim().length === 0;
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !btnOk.disabled) btnOk.click();
        });

        btnCancel.addEventListener('click', closeModal);

        btnOk.addEventListener('click', () => {
            if (input.value !== '8323') {
                // √Åp d·ª•ng cho c·∫£ link ƒë∆∞·ª£c b·∫£o v·ªá v√† n√∫t reset
                if (key) {
                    const failKey = 'wrongAttempts_' + key;
                    const currentFail = parseInt(localStorage.getItem(failKey)) || 0;
                    const newFail = currentFail + 1;
                    localStorage.setItem(failKey, newFail);

                    if (newFail >= 5) {
                        localStorage.setItem('lockStartTime_' + key, Date.now());
                        closeModal();

                        // N·∫øu l√† n√∫t ƒë·ªông (link sumo), thay th·∫ø n√∫t. N·∫øu l√† n√∫t reset, t·∫£i l·∫°i trang.
                        if (btn && link) {
                            const newBtn = createButton(
                                link, label, key.split('_')[1], true, true, link.highlight || false
                            );
                            btn.replaceWith(newBtn);
                        } else {
                            location.reload();
                        }
                        return;
                    }
                }
                errorMsg.style.display = 'block';
                input.focus();
                return;
            }

            // Nh·∫≠p ƒë√∫ng, x√≥a l·ªãch s·ª≠ nh·∫≠p sai n·∫øu c√≥
            if (key) {
                localStorage.removeItem('wrongAttempts_' + key);
                localStorage.removeItem('lockStartTime_' + key);
            }

            closeModal();
            onSuccess(); // Ch·∫°y h√†m callback khi th√†nh c√¥ng
        });

        input.focus();
    }

    // ‚úÖ Hi·ªÉn th·ªã danh s√°ch c√°c link trong m·ªói nh√≥m
    function renderLinks(containerId, links, type, prefix, allowMultiple = false) {
        const container = document.getElementById(containerId);
        if (!container) return;

        const shouldSort = (type === 'lite' || type === 'regular');

        if (shouldSort) {
            // 1. X√≥a c√°c n√∫t c≈© trong c·ªôt ƒë·ªÉ v·∫Ω l·∫°i, nh∆∞ng gi·ªØ l·∫°i ti√™u ƒë·ªÅ
            const buttons = container.querySelectorAll('.link-button');
            buttons.forEach(button => button.remove());

            // 2. T·∫°o c√°c m·∫£ng ƒë·ªÉ ph√¢n lo·∫°i link theo ti√™u ch√≠ m·ªõi
            const never_clicked = [];
            const clicked_but_unlocked = [];
            const locked_with_countdown = [];

            links.forEach((link, i) => {
                const realUrl = typeof link === 'string' ? link : link.url;
                const key = realUrl + '_' + type;

                const clickTimestamp = clickedLinks[key];
                const clickCount = clickedLinks[key + '_count'] || 0;

                const item = {
                    link,
                    label: (typeof link === 'string') ? `${prefix} ${i + 1}` : (link.label || `${prefix} ${i + 1}`),
                    clickCount: clickCount // L∆∞u l·∫°i s·ªë l∆∞·ª£t click ƒë·ªÉ s·∫Øp x·∫øp
                };

                // X√°c ƒë·ªãnh xem link c√≥ ƒëang b·ªã kh√≥a (ƒë·∫øm ng∆∞·ª£c) hay kh√¥ng
                let isCurrentlyLocked = false;
                if (clickTimestamp) {
                    const now = Date.now();
                    const clickedDate = new Date(clickTimestamp);
                    const unlockDate = new Date(clickedDate);
                    unlockDate.setDate(clickedDate.getDate() + unlockDays);
                    unlockDate.setHours(0, 0, 0, 0);

                    if (unlockDate - now > 0) {
                        isCurrentlyLocked = true;
                    }
                }

                // 3. Ph√¢n lo·∫°i link v√†o c√°c nh√≥m t∆∞∆°ng ·ª©ng
                if (isCurrentlyLocked) {
                    locked_with_countdown.push(item);
                } else if (clickCount > 0) {
                    clicked_but_unlocked.push(item);
                } else {
                    never_clicked.push(item);
                }
            });

            // 4. S·∫Øp x·∫øp nh√≥m "ƒë√£ b·∫•m nh∆∞ng kh√¥ng kh√≥a" theo s·ªë l∆∞·ª£t click tƒÉng d·∫ßn
            clicked_but_unlocked.sort((a, b) => a.clickCount - b.clickCount);

            // H√†m h·ªó tr·ª£ v·∫Ω c√°c n√∫t
            const renderGroup = (group) => {
                group.forEach(({ link, label }) => {
                    const isProtected = typeof link !== 'string' && link.protected;
                    const highlight = typeof link !== 'string' && link.highlight;
                    const btn = createButton(
                        link,
                        label,
                        type,
                        allowMultiple,
                        isProtected || false,
                        highlight || false
                    );
                    container.appendChild(btn);
                });
            };

            // 5. V·∫Ω c√°c nh√≥m theo ƒë√∫ng th·ª© t·ª± b·∫°n y√™u c·∫ßu
            renderGroup(never_clicked);          // Ch∆∞a b·∫•m bao gi·ªù
            renderGroup(clicked_but_unlocked);   // ƒê√£ b·∫•m, s·∫Øp x·∫øp theo l∆∞·ª£t b·∫•m
            renderGroup(locked_with_countdown);  // ƒêang b·ªã kh√≥a

        } else {
            // Gi·ªØ nguy√™n logic c≈© cho c√°c nh√≥m link kh√°c kh√¥ng c·∫ßn s·∫Øp x·∫øp
            links.forEach((link, i) => {
                if (link.hidden) return;
                const btn = createButton(
                    link,
                    link.label || `${prefix} ${i + 1}`,
                    type,
                    allowMultiple,
                    link.protected || false,
                    link.highlight || false
                );
                container.appendChild(btn);
            });
        }
    }

    // ‚úÖ ƒê·ªïi icon + ‚Üî ‚àí khi thu g·ªçn/m·ªü r·ªông nh√≥m
    function toggleSection(id) {
        const allSections = ['linkCoc', 'linkTuyet', 'linkTao', 'linkSumo', 'linkKhoBau', 'linkCauCa', 'link500Like', 'linkQRcode', 'linkGioiThieu'];

        allSections.forEach(sectionId => {
            const container = document.getElementById(sectionId);
            const icon = document.getElementById('icon-' + sectionId);
            if (sectionId === id) {
                const isCollapsed = container.classList.contains('collapsed');
                container.classList.toggle('collapsed');
                icon.textContent = container.classList.contains('collapsed') ? '+' : '‚àí';
            } else {
                container.classList.add('collapsed');
                if (icon) icon.textContent = '+';
            }
        });
    }
    //___________________________________________________________

    // ‚úÖ Hi·ªÉn th·ªã c√°c nh√≥m link
    if (enableCoc) {
        renderLinks('linkCoc-lite', linkCocLite, 'coc-lite', 'Lite', true);
        renderLinks('linkCoc-regular', linkCocRegular, 'coc-regular', 'Th∆∞·ªùng', true);
        document.querySelector('[onclick="toggleSection(\'linkCoc\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkCoc\')"]').parentElement.style.display = 'none';
    }

    if (enableTuyet) {
        renderLinks('linkTuyet', linkTuyet, 'tuyet', 'Tuy·∫øt', true);
        document.querySelector('[onclick="toggleSection(\'linkTuyet\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkTuyet\')"]').parentElement.style.display = 'none';
    }

    if (enableTao) {
        renderLinks('linkTao', linkTao, 'tao', 'T√°o', true);
        document.querySelector('[onclick="toggleSection(\'linkTao\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkTao\')"]').parentElement.style.display = 'none';
    }

    if (enableSumo) {
        renderLinks('linkSumo', linkSumo, 'sumo', 'Sumo', true);
        document.querySelector('[onclick="toggleSection(\'linkSumo\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkSumo\')"]').parentElement.style.display = 'none';
    }

    if (enableKhoBau) {
        renderLinks('linkKhoBau', linkKhoBau, 'khobau', 'Kho B√°u', true);
        document.querySelector('[onclick="toggleSection(\'linkKhoBau\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkKhoBau\')"]').parentElement.style.display = 'none';
    }

    if (enableCauCa) {
        renderLinks('linkCauCa', linkCauCa, 'cauca', 'C√¢u C√°', true);
        document.querySelector('[onclick="toggleSection(\'linkCauCa\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkCauCa\')"]').parentElement.style.display = 'none';
    }

    if (enable500Like) {
        renderLinks('link500Like', link500Like, '500like', 'Video', true);
        document.querySelector('[onclick="toggleSection(\'link500Like\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'link500Like\')"]').parentElement.style.display = 'none';
    }

    if (enableQRcode) {
        renderLinks('linkQRcode', linkQRcode, 'QR', 'QRcode', true);
        document.querySelector('[onclick="toggleSection(\'linkQRcode\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkQRcode\')"]').parentElement.style.display = 'none';
    }

    if (enableGioiThieu) {
        renderLinks('linkGioiThieu', linkGioiThieu, 'gioithieu', 'GT', true);
        document.querySelector('[onclick="toggleSection(\'linkGioiThieu\')"]').parentElement.style.display = '';
    } else {
        document.querySelector('[onclick="toggleSection(\'linkGioiThieu\')"]').parentElement.style.display = 'none';
    }
    //___________________________________________________________

    // ‚úÖ C√°c c·ªôt TikTok ƒë∆∞·ª£c hi·ªÉn th·ªã b√™n d∆∞·ªõi
    renderLinks('regularColumn', regularLinks, 'regular', 'Video');
    renderLinks('liteColumn', liteLinks, 'lite', 'Video');
    //___________________________________________________________

    // ‚úÖ Hi·ªÉn th·ªã v√† ·∫©n modal th√¥ng tin li√™n h·ªá
    function showContactInfo() {
        menu.classList.add('hidden');
        document.getElementById('contactModal').style.display = 'flex';
        document.body.classList.add('no-scroll');
    }

    function closeContactModal() {
        document.getElementById('contactModal').style.display = 'none';
        document.body.classList.remove('no-scroll');
    }
    //___________________________________________________________

    // ‚úÖ [C·∫¨P NH·∫¨T] Event listener cho n√∫t reset, truy·ªÅn th√™m key ƒë·ªÉ theo d√µi
    document.getElementById('resetBtn').addEventListener('click', () => {
        menu.classList.add('hidden');
        showPasswordPrompt({
            title: "B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p t√≠nh nƒÉng n√†y<br>Nh·∫≠p M·∫≠t Kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c:",
            key: 'resetBtn_lock', // Key duy nh·∫•t ƒë·ªÉ theo d√µi l∆∞·ª£t nh·∫≠p sai
            onSuccess: () => resetCountdown()
        });
    });

    // H√†m reset th·ª±c s·ª±
    function resetCountdown() {
        localStorage.removeItem('clickedLinks');
        localStorage.removeItem('wrongAttempts_resetBtn_lock');
        localStorage.removeItem('lockStartTime_resetBtn_lock');
        alert(translations[currentLanguage]['reset-success']);
        location.reload();
    }

    // ‚úÖ Modal th√™m ph√≠m t·∫Øt ‚Äì ch·ªâ hi·ªÉn th·ªã 1 l·∫ßn
    function triggerIOSModalIfNeeded() {
        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
        const isInStandaloneMode = ('standalone' in window.navigator) && window.navigator.standalone;
        const iosModalKey = 'iosInstallModalShownCount';
        let count = parseInt(localStorage.getItem(iosModalKey) || '0', 10);

        if (enable_ios_modal && isIOS && !isInStandaloneMode && count < 1) {
            const modal = document.getElementById('iosInstallModal');
            if (modal) {
                modal.style.display = 'flex';
                document.body.classList.add('no-scroll');

                const okBtn = document.getElementById('ios-ok-btn');
                okBtn.addEventListener('click', () => {
                    modal.style.display = 'none';
                    document.body.classList.remove('no-scroll');
                    localStorage.setItem(iosModalKey, (count + 1).toString());
                });
            }
        }
    }

    // ‚úÖ [C·∫¨P NH·∫¨T] Modal th√¥ng b√°o t√≠nh nƒÉng m·ªõi (ƒë∆∞·ª£c chuy·ªÉn th√†nh h√†m c√≥ t√™n)
    function showFeatureModalIfNeeded() {
        const modalKey = 'featureModalShownCount';
        let count = parseInt(localStorage.getItem(modalKey) || '0', 10);

        if (count < 1) {
            const modal = document.getElementById('featureModal');
            const okBtn = document.getElementById('featureModal-ok');

            modal.style.display = 'flex';
            document.body.classList.add('no-scroll');

            okBtn.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.classList.remove('no-scroll');
                localStorage.setItem(modalKey, (count + 1).toString());
                // Sau khi ƒë√≥ng modal n√†y, g·ªçi modal h∆∞·ªõng d·∫´n iOS
                triggerIOSModalIfNeeded();
            });
        } else {
            // N·∫øu modal t√≠nh nƒÉng kh√¥ng hi·ªán, v·∫´n ph·∫£i ki·ªÉm tra ƒë·ªÉ hi·ªán modal iOS
            triggerIOSModalIfNeeded();
        }
    }

    // ‚úÖ Reset v√¥ hi·ªáu h√≥a Pass m·ªü link
    (function () {
        let clickCount = 0;
        let lastClickTime = 0;
        const maxInterval = 1000;

        const el = document.getElementById('tiktok-lite');
        if (!el) return;

        el.addEventListener('click', () => {
            const now = Date.now();
            if (now - lastClickTime > maxInterval) {
                clickCount = 1;
            } else {
                clickCount++;
            }
            lastClickTime = now;

            if (clickCount >= 5) {
                for (const key in localStorage) {
                    if (key.startsWith("wrongAttempts_") || key.startsWith("lockStartTime_")) {
                        localStorage.removeItem(key);
                    }
                }
                alert("‚úÖ T·∫•t c·∫£ c√°c m·ª•c nh·∫≠p m·∫≠t kh·∫©u ƒë√£ ƒë∆∞·ª£c m·ªü kh√≥a!");
                clickCount = 0;
                location.reload();
            }
        });
    })();

    // ‚úÖ reset s·ªë l·∫ßn hi·ªÉn th·ªã th√¥ng b√°o t√≠nh nƒÉng m·ªõi
    let tapCount = 0;
    let tapTimeout;

    const tiktokText = document.getElementById('tiktok-normal');
    if (tiktokText) {
        tiktokText.addEventListener('click', () => {
            tapCount++;
            if (tapCount >= 5) {
                localStorage.removeItem('featureModalShownCount');
                localStorage.removeItem('languageSelected');
                localStorage.removeItem('iosInstallModalShownCount');
                alert('‚úÖ ƒê√£ reset t√πy ch·ªçn ng√¥n ng·ªØ v√† th√¥ng b√°o l√∫c truy c·∫≠p trang!');
                tapCount = 0;
                clearTimeout(tapTimeout);
                return;
            }
            clearTimeout(tapTimeout);
            tapTimeout = setTimeout(() => {
                tapCount = 0;
            }, 2000);
        });
    }

    // Toggle menu n·ªïi
    const menuButton = document.getElementById('floatingMenuButton');
    const menu = document.getElementById('floatingMenuOptions');

    menuButton.addEventListener('click', (e) => {
        e.stopPropagation();
        menu.classList.toggle('hidden');
    });

    menu.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    document.addEventListener('click', () => {
        menu.classList.add('hidden');
    });
    document.addEventListener('touchstart', (e) => {
        if (!menu.classList.contains('hidden') && !menu.contains(e.target) && e.target !== menuButton) {
            menu.classList.add('hidden');
        }
    });
    window.addEventListener('scroll', () => {
        menu.classList.add('hidden');
    });

    // Giao di·ªán s√°ng/t·ªëi
    function toggleDarkMode() {
        const body = document.body;
        body.classList.toggle('dark-mode');
        const isDark = body.classList.contains('dark-mode');
        const t = translations[currentLanguage];
        document.getElementById('darkModeBtn').textContent = isDark ? t['dark-mode-off'] : t['dark-mode-on'];
        localStorage.setItem('darkMode', isDark ? 'yes' : 'no');
    }

    // ‚úÖ [H√ÄM M·ªöI] √Åp d·ª•ng tr·∫°ng th√°i kh√≥a cho n√∫t Reset khi t·∫£i trang
    function applyResetButtonLock() {
        const btn = document.getElementById('resetBtn');
        const lockKey = 'resetBtn_lock';
        const lockStartTime = parseInt(localStorage.getItem('lockStartTime_' + lockKey));

        if (isNaN(lockStartTime)) return; // Kh√¥ng b·ªã kh√≥a th√¨ tho√°t

        const lockUntil = lockStartTime + (lockDays * 24 * 60 * 60 * 1000);
        if (Date.now() < lockUntil) {
            btn.disabled = true;

            const interval = setInterval(() => {
                const remaining = lockUntil - Date.now();
                if (remaining <= 0) {
                    clearInterval(interval);
                    btn.disabled = false;
                    localStorage.removeItem('lockStartTime_' + lockKey);
                    localStorage.removeItem('wrongAttempts_' + lockKey);
                    // Ph·ª•c h·ªìi l·∫°i text g·ªëc c·ªßa n√∫t sau khi h·∫øt kh√≥a
                    applyLanguage(currentLanguage);
                } else {
                    const d = Math.floor(remaining / (1000 * 60 * 60 * 24));
                    const h = Math.floor((remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const m = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
                    const s = Math.floor((remaining % (1000 * 60)) / 1000);
                    btn.textContent = `üîì ${d}Êó•${h}ÊôÇ${m}ÂàÜ${s}Áßí`;
                }
            }, 1000);
        } else {
            // Kh√≥a ƒë√£ h·∫øt h·∫°n
            localStorage.removeItem('lockStartTime_' + lockKey);
            localStorage.removeItem('wrongAttempts_' + lockKey);
        }
    }
    
    // K√©o xu·ªëng l√†m m·ªõi app
    let startY = 0;
    let isPulling = false;
    const threshold = 60;

    document.addEventListener('touchstart', (e) => {
        if (window.scrollY === 0) {
            startY = e.touches[0].clientY;
            isPulling = true;
        }
    });
    document.addEventListener('touchmove', (e) => {
        if (isPulling && (e.touches[0].clientY - startY) > threshold) {
            isPulling = false;
            location.reload();
        }
    });
    document.addEventListener('touchend', () => {
        isPulling = false;
    });

    // ƒêa ng√¥n ng·ªØ
    const translations = {
        vi: {
            title: "Video 60 Ph√∫t by Quang ƒê·∫°o",
            "tiktok-normal": "TikTok",
            "tiktok-lite": "TikTok Lite",
            "group-coc": "üê∏ C√≥c üê∏",
            "coc-tiktok-lite": "TikTok Lite",
            "coc-tiktok-regular": "TikTok",
            "group-tuyet": "‚ùÑ Tuy·∫øt ‚ùÑ",
            "group-tao": "üçé T√°o üçé",
            "group-sumo": "ü§º Sumo ü§º",
            "group-khobau": "M·ªü Kho B√°u üíé",
            "group-cauca": "üé£  C√¢u C√°  üé£",
            "group-500like": "üß° 500 Like üß°",
            "group-QR": "Qu√©t M√£ QR",
            "group-gt": "Gi·ªõi Thi·ªáu üì¢",
            "info1": "C√°c B·∫°n gi√∫p m√¨nh 1 l∆∞·ª£t follow Video ƒëang xem nh√©!",
            "info2": "",
            "info3": "",
            "info4": "",
            "modal-text": "B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p t√≠nh nƒÉng n√†y<br>Nh·∫≠p M·∫≠t Kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c:",
            "modal-cancel": "H·ªßy",
            "modal-ok": "OK",
            "modal-error": "M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng. Vui l√≤ng th·ª≠ l·∫°i.",
            "modal-ok-confirm": "ƒê√£ hi·ªÉu",
            "modal-title": "üîî Th√¥ng b√°o",
            "modal-line1": "‚û§ Thay ƒë·ªïi t√™n mi·ªÅn:",
            "modal-line2": "‚óè T·ª´ ng√†y 26/05/2025 t√™n truy c·∫≠p website s·∫Ω ƒë·ªïi th√†nh:",
            "modal-line3": "üëâ video60min.com",
            "modal-line4": "‚óè Website c≈© kh√¥ng th·ªÉ truy c·∫≠p.",
            "modal-line5": "üëâ .............",
            "modal-line6": "‚û§ T√≠nh nƒÉng ch·ªëng b·ªã ph√°t hi·ªán Phone Fram:",
            "modal-line7": "‚óè Sau khi click xem video b·∫•t k·ª≥, video ƒë√≥ s·∫Ω b·ªã v√¥ hi·ªáu h√≥a m·ªôt th·ªùi gian nh·∫•t ƒë·ªãnh.",
            "modal-line8": "‚óè H√£y ch·ªçn video kh√°c ƒë·ªÉ xem.",
            "modal-line9": "‚û§ L∆∞u √Ω:",
            "modal-line10": "‚óè T·∫•t c·∫£ video c√≥ n·ªôi dung gi·ªëng nhau.",
            "modal-line11": "‚óè √Çm thanh Video ƒë√£ ƒë∆∞·ª£c lo·∫°i b·ªè.",
            "modal-line12": "Admin ƒêƒÉng Gi√°p!",
            "contact": "Th√¥ng Tin Li√™n H·ªá",
            "contact-title": "üìû Th√¥ng Tin Li√™n H·ªá",
            "contact-line1": "Zalo: 0979-518-322",
            "contact-line2": "Email: chichchoehoa001@gmail.com",
            "contact-close": "ƒê√≥ng",
            "ios-modal-title": "H∆∞·ªõng D·∫´n T·∫°o Ph√≠m T·∫Øt",
            "ios-line1": "(ƒê·ªÉ tƒÉng m·ª©c ƒë·ªô t·ªëi ∆∞u khi s·ª≠ d·ª•ng, ch√∫ng t√¥i khuy√™n b·∫°n n√™n l√†m theo ch·ªâ d·∫´n b√™n d∆∞·ªõi)",
            "ios-line2": "1. Nh·∫•n bi·ªÉu t∆∞·ª£ng <strong>Chia s·∫ª</strong> (h√¨nh vu√¥ng c√≥ m≈©i t√™n ƒëi l√™n) ·ªü d∆∞·ªõi c√πng Safari.",
            "ios-line3": "2. Ch·ªçn <strong>\"Th√™m v√†o M√†n h√¨nh ch√≠nh\"</strong>.",
            "ios-line4": "3. Nh·∫•n <strong>\"Th√™m\"</strong> ƒë·ªÉ ho√†n t·∫•t.",
            "ios-ok-btn": "ƒê√£ hi·ªÉu",
            "copied-success-text": "ƒê√£ sao ch√©p li√™n k·∫øt",
            "reset": "Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh",
            "dark-mode-on": "üåô Ch·∫ø ƒë·ªô T·ªëi",
            "dark-mode-off": "üåû Ch·∫ø ƒë·ªô S√°ng",
            "reset-success": "C√†i ƒë·∫∑t m·∫∑c ƒë·ªãnh ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p",
            "lang-changed": "Ng√¥n ng·ªØ Ti·∫øng Vi·ªát ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p"
        },
        en: {
            title: "60 Minute Videos by Quang Dao",
            "tiktok-normal": "TikTok",
            "tiktok-lite": "TikTok Lite",
            "group-coc": "üê∏ Frog üê∏",
            "coc-tiktok-lite": "TikTok Lite",
            "coc-tiktok-regular": "TikTok",
            "group-tuyet": "‚ùÑ Snow ‚ùÑ",
            "group-tao": "üçé Apple üçé",
            "group-sumo": "ü§º Sumo ü§º",
            "group-khobau": "Treasure Chest üíé",
            "group-cauca": "üé£  Fishing  üé£",
            "group-500like": "üß° 500 Like üß°",
            "group-QR": "Scan QR Code",
            "group-gt": "Intro Links üì¢",
            "info1": "We‚Äôd appreciate your support with a follow!",
            "info2": "",
            "info3": "",
            "info4": "",
            "modal-text": "You do not have permission to access this feature.<br>Please enter the password to continue:",
            "modal-cancel": "Cancel",
            "modal-ok": "OK",
            "modal-error": "Incorrect password. Please try again.",
            "modal-ok-confirm": "Got it",
            "modal-title": "üîî Notification",
            "modal-line1": "‚û§ Domain Name Change:",
            "modal-line2": "‚óè From May 26, 2025, the website address will change to:",
            "modal-line3": "üëâ video60min.com",
            "modal-line4": "‚óè The old website will still be accessible.",
            "modal-line5": "üëâ ..........",
            "modal-line6": "‚û§ Anti-Detection Feature for Phone Fram:",
            "modal-line7": "‚óè After clicking to watch any video, that video will be disabled for a certain time.",
            "modal-line8": "‚óè Please select another video to watch.",
            "modal-line9": "‚û§ Note:",
            "modal-line10": "‚óè All videos have the same content.",
            "modal-line11": "‚óè Video audio has been removed.",
            "modal-line12": "Admin Dang Giap!",
            "contact": "Contact Info",
            "contact-title": "Contact the administrator.",
            "contact-line1": "Zalo: 0979-518-322",
            "contact-line2": "Email: chichchoehoa001@gmail.com",
            "contact-close": "Close",
            "ios-modal-title": "How to Add to Home Screen",
            "ios-line1": "(To optimize your experience, we recommend following the steps below)",
            "ios-line2": "1. Tap the <strong>Share</strong> icon (square with arrow) at the bottom of Safari.",
            "ios-line3": "2. Choose <strong>\"Add to Home Screen\"</strong>.",
            "ios-line4": "3. Tap <strong>\"Add\"</strong> to confirm.",
            "ios-ok-btn": "Got it",
            "copied-success-text": "Link copied successfully",
            "reset": "Reset Countdown",
            "dark-mode-on": "üåô Dark Mode",
            "dark-mode-off": "üåû Light Mode",
            "reset-success": "Default settings have been set",
            "lang-changed": "English language has been set"
        },
        ja: {
            title: "ÂÖâÈÅì„ÅÆ60ÂàÜÁÑ°Èü≥ÂãïÁîª",
            "tiktok-normal": "„ÉÜ„ÉÉ„ÇØ„Éà„ÉÉ„ÇØ",
            "tiktok-lite": "„ÉÜ„ÉÉ„ÇØ„Éà„ÉÉ„ÇØ„É©„Ç§„Éà",
            "group-coc": "üê∏ „Ç´„Ç®„É´ üê∏",
            "coc-tiktok-lite": "„ÉÜ„ÉÉ„ÇØ„Éà„ÉÉ„ÇØ„É©„Ç§„Éà",
            "coc-tiktok-regular": "„ÉÜ„ÉÉ„ÇØ„Éà„ÉÉ„ÇØ",
            "group-tuyet": "‚ùÑ Èõ™ ‚ùÑ",
            "group-tao": "üçé „Çä„Çì„Åî üçé",
            "group-sumo": "ü§º Áõ∏Êí≤ ü§º",
            "group-khobau": "ÂÆùÁÆ±Ëß£Êîæ üíé",
            "group-cauca": "üé£  Èá£„Çä  üé£",
            "group-500like": "üß° 500 Like üß°",
            "group-QR": "QR„Ç≥„Éº„Éâ„ÇíË™≠„ÅøÂèñ„Çä",
            "group-gt": "Á¥π‰ªã„É™„É≥„ÇØ üì¢",
            "info1": "„Åú„Å≤„ÉÜ„ÉÉ„ÇØ„Éà„ÉÉ„ÇØ„Éï„Ç©„É≠„Éº„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôÔºÅ",
            "info2": "",
            "info3": "",
            "info4": "",
            "modal-text": "„Åì„ÅÆÊ©üËÉΩ„Å´„Ç¢„ÇØ„Çª„Çπ„Åô„ÇãÊ®©Èôê„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ<br>Á∂öË°å„Åô„Çã„Å´„ÅØ„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
            "modal-cancel": "„Ç≠„É£„É≥„Çª„É´",
            "modal-ok": "OK",
            "modal-error": "„Éë„Çπ„ÉØ„Éº„Éâ„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ",
            "modal-ok-confirm": "‰∫ÜËß£",
            "modal-title": "üîî „ÅäÁü•„Çâ„Åõ",
            "modal-line1": "‚û§ „Éâ„É°„Ç§„É≥Â§âÊõ¥:",
            "modal-line2": "‚óè 2025Âπ¥5Êúà26Êó•„Çà„Çä„ÄÅ„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„ÅÆ„Ç¢„Éâ„É¨„Çπ„Åå‰ª•‰∏ã„Å´Â§âÊõ¥„Åï„Çå„Åü:",
            "modal-line3": "üëâ video60min.com",
            "modal-line4": "‚óè Êóß„Ç¶„Çß„Éñ„Çµ„Ç§„ÉàÂà©Áî®‰∏çÂèØ„Åß„Åô„ÄÇ",
            "modal-line5": "üëâ ............... ",
            "modal-line6": "‚û§ Phone FramÊ§úÂá∫Èò≤Ê≠¢Ê©üËÉΩ:",
            "modal-line7": "‚óè ‰ªªÊÑè„ÅÆÂãïÁîª„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„ÄÅ‰∏ÄÂÆöÊôÇÈñì„Åù„ÅÆÂãïÁîª„ÅØ‰ΩøÁî®„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ",
            "modal-line8": "‚óè Âà•„ÅÆÂãïÁîª„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
            "modal-line9": "‚û§ Ê≥®ÊÑè:",
            "modal-line10": "‚óè „Åô„Åπ„Å¶„ÅÆÂãïÁîª„ÅÆÂÜÖÂÆπ„ÅØÂêå„Åò„Åß„Åô„ÄÇ",
            "modal-line11": "‚óè ÂãïÁîª„ÅÆÈü≥Â£∞„ÅØÂâäÈô§„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
            "modal-line12": "ÁÆ°ÁêÜËÄÖ ƒêƒÉng Gi√°p!",
            "contact": "Âïè„ÅÑÂêà„Çè„Åõ",
            "contact-title": "ÁÆ°ÁêÜËÄÖ„ÅÆÂïè„ÅÑÂêà„Çè„ÅõÔºö",
            "contact-line1": "Zalo: 0979-518-322",
            "contact-line2": "„É°„Éº„É´: chichchoehoa001@gmail.com",
            "contact-close": "OK",
            "ios-modal-title": "„Éõ„Éº„É†ÁîªÈù¢„Å´ËøΩÂä†„Åô„ÇãÊñπÊ≥ï",
            "ios-line1": "Ôºà‰Ωø„ÅÑ„ÇÑ„Åô„Åè„Åô„Çã„Åü„ÇÅ„Å´„ÄÅ‰ª•‰∏ã„ÅÆÊâãÈ†Ü„Å´Âæì„ÅÜ„Åì„Å®„Çí„Åä„Åô„Åô„ÇÅ„Åó„Åæ„ÅôÔºâ",
            "ios-line2": "1. Safari„ÅÆ‰∏ãÈÉ®„Å´„ÅÇ„Çã<strong>ÂÖ±Êúâ</strong>„Ç¢„Ç§„Ç≥„É≥Ôºà‰∏äÂêë„Åç„ÅÆÁü¢Âç∞‰ªò„Åç„ÅÆÂõõËßíÔºâ„Çí„Çø„ÉÉ„Éó„ÄÇ",
            "ios-line3": "2. <strong>„Äå„Éõ„Éº„É†ÁîªÈù¢„Å´ËøΩÂä†„Äç</strong>„ÇíÈÅ∏Êäû„ÄÇ",
            "ios-line4": "3. <strong>„ÄåËøΩÂä†„Äç</strong>„Çí„Çø„ÉÉ„Éó„Åó„Å¶ÂÆå‰∫Ü„ÄÇ",
            "ios-ok-btn": "‰∫ÜËß£",
            "copied-success-text": "„É™„É≥„ÇØ„Çí„Ç≥„Éî„Éº„Åó„Åæ„Åó„Åü",
            "reset": "ÂàùÊúüÂåñ",
            "dark-mode-on": "üåô „ÉÄ„Éº„ÇØ„É¢„Éº„Éâ",
            "dark-mode-off": "üåû „É©„Ç§„Éà„É¢„Éº„Éâ",
            "reset-success": "ÊúÄÂàùÂåñÊ∏à„Åø",
            "lang-changed": "Êó•Êú¨Ë™û„Å´Âàá„ÇäÊõø„Çè„Çä„Åæ„Åó„Åü„ÄÇ"
        }
    };
    
    let currentLanguage = localStorage.getItem('appLang');
    if (!currentLanguage) {
        const browserLang = navigator.language || navigator.userLanguage;
        if (browserLang.startsWith('ja')) currentLanguage = 'ja';
        else if (browserLang.startsWith('vi')) currentLanguage = 'vi';
        else currentLanguage = 'en';
    }

    function changeLanguage(lang) {
        localStorage.setItem('appLang', lang);
        alert(translations[lang]['lang-changed']);
        location.reload();
    }
    
    // [M·ªöI] H√†m ch·ªçn ng√¥n ng·ªØ l·∫ßn ƒë·∫ßu, kh√¥ng c√≥ alert v√† ch·ªâ reload
    function selectInitialLanguage(lang) {
        localStorage.setItem('appLang', lang);
        localStorage.setItem('languageSelected', 'true'); // ƒê√°nh d·∫•u ƒë√£ ch·ªçn ng√¥n ng·ªØ
        location.reload();
    }


    function applyLanguage(lang) {
        const t = translations[lang];

        document.title = t.title.split(' by ')[0];
        document.getElementById('title').textContent = t.title;
        document.getElementById('tiktok-normal').textContent = t["tiktok-normal"];
        document.getElementById('tiktok-lite').textContent = t["tiktok-lite"];

        const resetBtn = document.getElementById('resetBtn');
        if (!resetBtn.disabled) {
            resetBtn.textContent = 'üîÑ ' + t["reset"];
        }

        document.getElementById('group-coc').textContent = t["group-coc"];
        document.getElementById('group-tuyet').textContent = t["group-tuyet"];
        document.getElementById('group-tao').textContent = t["group-tao"];
        document.getElementById('group-sumo').textContent = t["group-sumo"];
        document.getElementById('group-khobau').textContent = t["group-khobau"];
        document.getElementById('group-cauca').textContent = t["group-cauca"];
        document.getElementById('group-500like').textContent = t["group-500like"];
        document.getElementById('group-QR').textContent = t["group-QR"];
        document.getElementById('group-gt').textContent = t["group-gt"];
        document.getElementById('info1').textContent = t["info1"];
        document.getElementById('info2').textContent = t["info2"];
        document.getElementById('info3').textContent = t["info3"];
        document.getElementById('info4').textContent = t["info4"];
        if (document.getElementById('coc-tiktok-lite')) document.getElementById('coc-tiktok-lite').textContent = t["coc-tiktok-lite"];
        if (document.getElementById('coc-tiktok-regular')) document.getElementById('coc-tiktok-regular').textContent = t["coc-tiktok-regular"];

        const modalText = document.querySelector('.modal-overlay #modal-text');
        if (modalText) modalText.innerHTML = t["modal-text"];
        const modalCancel = document.querySelector('.modal-overlay #modal-cancel');
        if (modalCancel) modalCancel.textContent = t["modal-cancel"];
        const modalOk = document.querySelector('.modal-overlay #modal-ok');
        if (modalOk) modalOk.textContent = t["modal-ok"];
        const modalError = document.querySelector('.modal-overlay #modal-error');
        if (modalError) modalError.textContent = t["modal-error"];

        if (document.getElementById('contactInfoBtn')) document.getElementById('contactInfoBtn').textContent = 'üìû ' + t["contact"];
        document.getElementById('contactModalTitle').textContent = t["contact-title"];
        document.getElementById('contactLine1').textContent = t["contact-line1"];
        document.getElementById('contactLine2').textContent = t["contact-line2"];
        document.getElementById('closeContactBtn').textContent = t["contact-close"];
        if (document.getElementById('ios-modal-title')) {
            document.getElementById('ios-modal-title').textContent = t["ios-modal-title"];
            document.getElementById('ios-line1').innerHTML = t["ios-line1"];
            document.getElementById('ios-line2').innerHTML = t["ios-line2"];
            document.getElementById('ios-line3').innerHTML = t["ios-line3"];
            document.getElementById('ios-ok-btn').textContent = t["ios-ok-btn"];
        }
        document.getElementById('copied-success-text').textContent = t["copied-success-text"];
        document.getElementById('modal-title').textContent = t["modal-title"];
        document.getElementById('featureModal-ok').textContent = t["modal-ok-confirm"];
        for (let i = 1; i <= 13; i++) {
            const el = document.getElementById('modal-line' + i);
            if (el && t['modal-line' + i]) el.innerHTML = t['modal-line' + i];
        }

        const isDark = document.body.classList.contains('dark-mode');
        document.getElementById('darkModeBtn').textContent = isDark ? t['dark-mode-off'] : t['dark-mode-on'];
    }
    
    // [C·∫¨P NH·∫¨T] Lu·ªìng x·ª≠ l√Ω ch√≠nh khi t·∫£i trang
    window.addEventListener('DOMContentLoaded', () => {
        // Ki·ªÉm tra xem ng∆∞·ªùi d√πng ƒë√£ t·ª´ng ch·ªçn ng√¥n ng·ªØ ch∆∞a
        if (!localStorage.getItem('languageSelected')) {
            // N·∫øu CH∆ØA, ƒë√¢y l√† l·∫ßn ƒë·∫ßu truy c·∫≠p -> hi·ªÉn th·ªã modal ch·ªçn ng√¥n ng·ªØ
            const langModal = document.getElementById('languageSelectionModal');
            if (langModal) {
                langModal.style.display = 'flex';
                document.body.classList.add('no-scroll');
            }
        } else {
            // N·∫øu R·ªíI, ti·∫øn h√†nh c√°c b∆∞·ªõc kh·ªüi ƒë·ªông b√¨nh th∆∞·ªùng
            // 1. √Åp d·ª•ng ch·∫ø ƒë·ªô s√°ng/t·ªëi
            if (localStorage.getItem('darkMode') === 'yes') {
                document.body.classList.add('dark-mode');
            }
            // 2. Ki·ªÉm tra kh√≥a n√∫t Reset
            applyResetButtonLock();
            
            // 3. √Åp d·ª•ng ng√¥n ng·ªØ ƒë√£ l∆∞u
            applyLanguage(currentLanguage); 
            
            // 4. Hi·ªÉn th·ªã c√°c n√∫t trong menu n·ªïi t∆∞∆°ng ·ª©ng
            document.getElementById('lang-vi').style.display = (currentLanguage === 'vi') ? 'none' : 'block';
            document.getElementById('lang-en').style.display = (currentLanguage === 'en') ? 'none' : 'block';
            document.getElementById('lang-ja').style.display = (currentLanguage === 'ja') ? 'none' : 'block';
            
            // 5. B·∫Øt ƒë·∫ßu chu·ªói hi·ªÉn th·ªã modal (t√≠nh nƒÉng m·ªõi -> h∆∞·ªõng d·∫´n iOS)
            showFeatureModalIfNeeded();
        }
    });


    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
            .then(() => console.log("‚úÖ Service Worker registered."))
            .catch((error) => console.log("‚ùå Service Worker registration failed:", error));
    }

</script>
</body>
</html>
